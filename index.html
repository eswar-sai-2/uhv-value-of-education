<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üå± Value Education Quiz</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(to right, #e0f7fa, #fce4ec);
  margin: 0;
  padding: 0;
}
.container {
  max-width: 800px;
  background: #fff;
  margin: 50px auto;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h1 { text-align: center; color: #00796b; }
#timer { font-weight: bold; color: #d32f2f; text-align: center; margin-bottom: 20px; }
.question { font-weight: bold; color: #4a148c; margin-bottom: 15px; }
.options button {
  display: block;
  width: 100%;
  margin-bottom: 10px;
  padding: 10px;
  border: none;
  border-radius: 6px;
  background: #f3e5f5;
  cursor: pointer;
  transition: background 0.3s;
}
.options button:hover { background: #ce93d8; }
.correct { background: #a5d6a7 !important; color: #1b5e20; }
.wrong { background: #ef9a9a !important; color: #b71c1c; }
#start-screen, #quiz-screen, #result-screen { display: none; }
#start-screen { display: block; text-align: center; }
#start-screen input {
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  width: 60%;
  margin-bottom: 20px;
}
button {
  padding: 12px 20px;
  background-color: #00796b;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
}
button:hover { background-color: #004d40; }
#result { font-size: 20px; font-weight: bold; text-align: center; color: #388e3c; }
ol { color: #6a1b9a; }
</style>
</head>

<body>
<div class="container">

  <!-- Start Screen -->
  <div id="start-screen">
    <h1>üå± Value Education Quiz</h1>
    <p>Enter your name to begin:</p>
    <input type="text" id="username" placeholder="Your name here" oninput="checkAdminName()"><br>
    <div id="adminCodeContainer" style="display:none;">
      <input type="password" id="adminCode" placeholder="Enter Admin Code"><br>
    </div>
    <button onclick="startQuiz()">Start Quiz</button>
  </div>

  <!-- Quiz Screen -->
  <div id="quiz-screen">
    <div id="timer">Time: 10:00</div>
    <div id="question"></div>
    <div class="options" id="options"></div>
  </div>

  <!-- Result Screen -->
  <div id="result-screen">
    <div id="result"></div>
    <h3>üèÜ Leaderboard (Top 5)</h3>
    <ol id="leaderboard-list"></ol>
    <div id="result-buttons" style="text-align:center; margin-top:20px;">
      <button onclick="restartQuiz()">Play Again</button>
    </div>
  </div>

</div>

<script>
const quizData = [
  { q: "Holistic development in education refers to ...", options: ["Money, fame, and recognition", "Right understanding, relationships, and physical facilities", "Status, power, and control", "Obedience, discipline, and silence"], answer: 1 },
  { q: "The role of education is to enable the student to:", options: ["Get employment only", "Gain information", "Develop right understanding", "Earn money quickly"], answer: 2 },
  { q: "What is the main focus of value education?", options: ["External success", "Right understanding and human values", "Competition", "Marks and grades"], answer: 1 },
  { q: "The process of self-exploration helps in:", options: ["Finding job opportunities", "Understanding one's happiness and purpose", "Memorizing facts", "Becoming rich"], answer: 1 },
  { q: "Human happiness primarily depends on:", options: ["Material wealth", "Power and status", "Right understanding and good relationships", "Luck"], answer: 2 },
  { q: "Relationship is based on:", options: ["Mutual fear", "Mutual trust and respect", "Self-interest", "Competition"], answer: 1 },
  { q: "Which one is not a natural acceptance for human being?", options: ["Happiness", "Trust", "Dishonesty", "Respect"], answer: 2 },
  { q: "Which one is a basic human aspiration?", options: ["Money", "Happiness", "Fame", "Power"], answer: 1 },
  { q: "Trust means:", options: ["Having faith blindly", "Mutual understanding and assurance", "Competition", "Obedience"], answer: 1 },
  { q: "Prosperity means:", options: ["Having more money", "Feeling of having enough physical facilities", "Luxury", "Owning property"], answer: 1 },
  { q: "Which one is a program for right living?", options: ["Self-exploration", "Memorization", "Competition", "Obedience"], answer: 0 },
  { q: "Self-exploration leads to:", options: ["Right understanding", "Confusion", "Dependency", "Ignorance"], answer: 0 },
  { q: "The basic human values include:", options: ["Wealth and power", "Trust and respect", "Status and fame", "Competition"], answer: 1 },
  { q: "Human values are necessary for:", options: ["Living with happiness and harmony", "Getting degrees", "Winning awards", "Earning wealth"], answer: 0 },
  { q: "Right understanding leads to:", options: ["Fear", "Mutual happiness", "Hatred", "Competition"], answer: 1 },
  { q: "Self-exploration is a process of:", options: ["Self-study", "Understanding oneself and others", "Reading books", "Following orders"], answer: 1 },
  { q: "Harmony in nature means:", options: ["Coexistence of all entities", "Survival of the fittest", "Human dominance", "Unlimited exploitation"], answer: 0 },
  { q: "Sukh means:", options: ["Physical comfort only", "Continuous happiness", "Temporary pleasure", "External achievement"], answer: 1 },
  { q: "The universal human order aims at:", options: ["Competition and profit", "Mutual happiness and prosperity", "Domination", "Individual success"], answer: 1 },
  { q: "The ultimate goal of value education is:", options: ["Success in exams", "Right understanding and harmony", "Job security", "Wealth accumulation"], answer: 1 }
];

let currentQuestion = 0;
let score = 0;
let timer;
let timeLeft = 600;
let username = "";
let isAdmin = false;

function checkAdminName() {
  const name = document.getElementById("username").value.trim().toLowerCase();
  document.getElementById("adminCodeContainer").style.display = (name === "eswar sai") ? "block" : "none";
}

function startQuiz() {
  username = document.getElementById("username").value.trim();
  const adminInput = document.getElementById("adminCode")?.value.trim() || "";
  if (!username) return alert("Please enter your name!");
  if (username.toLowerCase() === "eswar sai" && adminInput === "1234") isAdmin = true;

  document.getElementById("start-screen").style.display = "none";
  document.getElementById("quiz-screen").style.display = "block";
  showQuestion();
  startTimer();
}

function startTimer() {
  timer = setInterval(() => {
    timeLeft--;
    let m = Math.floor(timeLeft / 60);
    let s = timeLeft % 60;
    document.getElementById("timer").textContent = `Time: ${m}:${s < 10 ? "0" : ""}${s}`;
    if (timeLeft <= 0) { clearInterval(timer); endQuiz(); }
  }, 1000);
}

function showQuestion() {
  if (currentQuestion >= quizData.length) return endQuiz();
  const qData = quizData[currentQuestion];
  document.getElementById("question").textContent = `${currentQuestion + 1}. ${qData.q}`;
  const opts = document.getElementById("options");
  opts.innerHTML = "";
  qData.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(i, btn);
    opts.appendChild(btn);
  });
}

function checkAnswer(selected, btn) {
  const qData = quizData[currentQuestion];
  const allBtns = document.querySelectorAll(".options button");
  if (selected === qData.answer) { btn.classList.add("correct"); score++; }
  else { btn.classList.add("wrong"); allBtns[qData.answer].classList.add("correct"); }
  allBtns.forEach(b => b.disabled = true);
  setTimeout(() => { currentQuestion++; showQuestion(); }, 1000);
}

function endQuiz() {
  clearInterval(timer);
  document.getElementById("quiz-screen").style.display = "none";
  document.getElementById("result-screen").style.display = "block";
  document.getElementById("result").textContent = `${username}, you scored ${score} out of ${quizData.length}`;
  updateLeaderboard(username, score);
  displayLeaderboard();

  const btns = document.getElementById("result-buttons");
  btns.innerHTML = `<button onclick="restartQuiz()">Play Again</button>`;
  if (isAdmin) {
    const clearBtn = document.createElement("button");
    clearBtn.textContent = "Clear Participants";
    clearBtn.style.backgroundColor = "#d32f2f";
    clearBtn.style.marginLeft = "10px";
    clearBtn.onclick = clearParticipants;
    btns.appendChild(clearBtn);
  }
}

function updateLeaderboard(name, points) {
  let lb = JSON.parse(localStorage.getItem("leaderboard")) || [];
  const time = new Date().toLocaleString();
  lb.push({ name, points, time });
  lb.sort((a, b) => b.points - a.points);
  localStorage.setItem("leaderboard", JSON.stringify(lb));
}

function displayLeaderboard() {
  const lb = JSON.parse(localStorage.getItem("leaderboard")) || [];
  const list = document.getElementById("leaderboard-list");
  list.innerHTML = "";
  if (lb.length === 0) return list.innerHTML = "<li>No scores yet</li>";
  lb.slice(0, 5).forEach((e, i) => {
    const li = document.createElement("li");
    li.textContent = `#${i + 1} ${e.name} - ${e.points} points (${e.time})`;
    list.appendChild(li);
  });
  const all = lb.map((e, i) => `#${i + 1} ${e.name} - ${e.points} points (${e.time})`).join("<br>");
  const div = document.createElement("div");
  div.style.marginTop = "20px";
  div.style.textAlign = "center";
  div.innerHTML = `<h4>Total Participants: ${lb.length}</h4>
  <div style="max-height:180px;overflow-y:auto;border:1px solid #ccc;border-radius:8px;padding:10px;background:#f3e5f5;width:90%;margin:auto;text-align:left;">${all}</div>`;
  list.parentElement.appendChild(div);
}

function clearParticipants() {
  if (confirm("Clear all participant data?")) {
    localStorage.removeItem("leaderboard");
    alert("Leaderboard cleared!");
    displayLeaderboard();
  }
}

function restartQuiz() {
  currentQuestion = 0; score = 0; timeLeft = 600;
  document.getElementById("result-screen").style.display = "none";
  document.getElementById("start-screen").style.display = "block";
  document.getElementById("username").value = "";
  document.getElementById("adminCode").value = "";
}
</script>
</body>
</html>
